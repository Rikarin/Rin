namespace System;


// This class is returned from ?. and ?[] operator usages. same as monad e.g. 'value: int?'
final class Nullable(T) {
    private value:    T;
    private hasValue: bool;

    self() {

    }

    self(value: T) {
        _value    = value;
        _hasValue = true;
    }

    hasValue -> bool => _hasValue;

    value -> T {
        if (!_hasValue) {
            throw new InvalidOperationException;
        }

        return _value;
    }
}
